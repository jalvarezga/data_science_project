<button id="toggle-code-button" onclick="toggleCodeSnippet()">
  Show Python Code Snippet
</button>
<div id="code-snippet-container" style="display: none">
  <h2>Python Code Snippet:</h2>
  <pre id="code-snippet">
    {% if success %}
      Click on a function button above to see the corresponding Python code.
    {% else %}
      Select and upload a CSV file to see relevant code snippets.
    {% endif %}
  </pre>
</div>

<pre id="upload-code" style="display: none">
    import pandas as pd
    df = pd.read_csv('{{ filename if filename else "your_file.csv" }}')
</pre>
<pre id="show-table-code" style="display: none">
    print(df.head())
</pre>
<pre id="histogram-code" style="display: none">
    import pandas as pd
    import matplotlib.pyplot as plt
    df = pd.read_csv("{{ filename }}")
    df["{% if column_name %}{{ column_name }}{% else %}your_column{% endif %}"].dropna().hist(bins=20, color="{% if color %}{{ color }}{% else %}blue{% endif %}", edgecolor='black')
    plt.title("Histogram of {% if column_name %}{{ column_name }}{% else %}your_column{% endif %}")
    plt.xlabel("{{ column_name }}")
    plt.ylabel('Frequency')
    plt.show()
</pre>

<pre id="scatter-code" style="display: none">
  import pandas as pd
  import matplotlib.pyplot as plt
  df = pd.read_csv("{{ filename }}")
  plt.scatter(df["{{ x_column }}"], df["{{ y_column }}"], color="{{ color }}")
  plt.title("Scatter Plot of {{ x_column }} vs {{ y_column }}")
  plt.xlabel("{{ x_column }}")
  plt.ylabel("{{ y_column }}")
  plt.show()
</pre>

<pre id="summary-code" style="display: none">
  import pandas as pd
  df = pd.read_csv("{{ filename }}")
  
  # Summary for {{ col1 }}
  mean_1 = df["{{ col1 }}"].mean()
  std_1 = df["{{ col1 }}"].std()
  min_1 = df["{{ col1 }}"].min()
  q25_1 = df["{{ col1 }}"].quantile(0.25)
  q50_1 = df["{{ col1 }}"].median()
  q75_1 = df["{{ col1 }}"].quantile(0.75)
  max_1 = df["{{ col1 }}"].max()
  missing_1 = df["{{ col1 }}"].isnull().sum()

  # Summary for {{ col2 }}
  mean_2 = df["{{ col2 }}"].mean()
  std_2 = df["{{ col2 }}"].std()
  min_2 = df["{{ col2 }}"].min()
  q25_2 = df["{{ col2 }}"].quantile(0.25)
  q50_2 = df["{{ col2 }}"].median()
  q75_2 = df["{{ col2 }}"].quantile(0.75)
  max_2 = df["{{ col1 }}"].max()
  missing_2 = df["{{ col2 }}"].isnull().sum()

  # Correlation
  correlation = df["{{ col1 }}"].corr(df["{{ col2 }}"])
</pre>
